#!/usr/bin/env python
#from test_pipe import launch_template_edit_test
from poms_client import launch_template_edit
import argparse
#action = None, name = None, launch_host = None, user_account = None, lauch_setup = None, experiment = None, pc_email
parser = argparse.ArgumentParser(description='edit_launch_template.')
groupArg = parser.add_argument_group('Require Arguments')

groupArg.add_argument('--email', metavar='your email', type=str, help='Please provide your email adress', required = True)
groupArg.add_argument('--action', metavar='add-edit-delete', type=str, help='you should choose between add, edit or delete', required = True)
groupArg.add_argument('--experiment', metavar='Experiment', type=str, help='The experiment this submission belong', required = True)


parser.add_argument('--name', metavar='Name of your template', type=str, help='the name of the launch template', default = None)
parser.add_argument('--host', metavar='your experiment machine', type=str, help='You should provide your interactive machine (e.g. dunegpvm01)', default = None)
parser.add_argument('--user_account', metavar='username at submission node', type=str, help='Please provide the user account for the submission (e.g. your user, or production user e.g. novapro, minospro, dunepro)', default = None)
parser.add_argument('--setup', metavar='the setup you do at your interactive node', type=str, help='provide the necessary comands for your submission node e.g. setup_nova', default = None)
parser.add_argument('--test_client', metavar='want to test the client URL query', type=str, help='use to test the client URL query', default = False)




args = parser.parse_args()
print args
print 'The arguments you pass are:'
print 'action =',args.action
print 'name =', args.name
print 'launch_host=',args.host
print 'user_account=',args.user_account
print "launch_setup =", args.setup
print "experiment=", args.experiment
print "pc_email=", args.email
print "test_client", args.test_client



launch_template_edit(action = args.action,
                    name = args.name,
                    launch_host = args.host,
                    user_account = args.user_account,
                    launch_setup = args.setup,
                    experiment = args.experiment,
                    pc_email = args.email,
                    test_client=args.test_client)
