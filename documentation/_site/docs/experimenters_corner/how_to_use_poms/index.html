<!DOCTYPE html>
<html lang="en}"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.8.0 -->
<title>How To Use Poms | POMS Guide</title>
<meta name="generator" content="Jekyll v4.3.2" />
<meta property="og:title" content="How To Use Poms" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="The Production Operations Management System (POMS) is a project designed to provide a service to assist production teams and analysis groups of experiments in their MC production and DATA processing. As the quantity of data originated by the running experiments greatly increases, the ability of simplifying the steps in data processing and management has become more and more appealing to the users. POMS provides a web service interface that enables automated jobs submission on distributed resources according to customers’ requests and subsequent monitoring and recovery of failed submissions, debugging and record keeping. The ultimate goal is the most efficient utilization of all computing resources available to experiments, while providing a simple and transparent interface between users and the complexity of the grid. POMS runs behind a web service interface that provides both interactive pages to the users, and a REST interfaces to scripts that interact with it. This means that experiments can use POMS through their web browser to configure and run their production code, or they can use the poms_client and poms_jobsub_wrapper tools to submit jobs through a command line and have POMS tracking, debugging and monitoring them." />
<meta property="og:description" content="The Production Operations Management System (POMS) is a project designed to provide a service to assist production teams and analysis groups of experiments in their MC production and DATA processing. As the quantity of data originated by the running experiments greatly increases, the ability of simplifying the steps in data processing and management has become more and more appealing to the users. POMS provides a web service interface that enables automated jobs submission on distributed resources according to customers’ requests and subsequent monitoring and recovery of failed submissions, debugging and record keeping. The ultimate goal is the most efficient utilization of all computing resources available to experiments, while providing a simple and transparent interface between users and the complexity of the grid. POMS runs behind a web service interface that provides both interactive pages to the users, and a REST interfaces to scripts that interact with it. This means that experiments can use POMS through their web browser to configure and run their production code, or they can use the poms_client and poms_jobsub_wrapper tools to submit jobs through a command line and have POMS tracking, debugging and monitoring them." />
<link rel="canonical" href="https://fermitools.github.io/poms/docs//docs/experimenters_corner/how_to_use_poms/" />
<meta property="og:url" content="https://fermitools.github.io/poms/docs//docs/experimenters_corner/how_to_use_poms/" />
<meta property="og:site_name" content="POMS Guide" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="How To Use Poms" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebPage","description":"The Production Operations Management System (POMS) is a project designed to provide a service to assist production teams and analysis groups of experiments in their MC production and DATA processing. As the quantity of data originated by the running experiments greatly increases, the ability of simplifying the steps in data processing and management has become more and more appealing to the users. POMS provides a web service interface that enables automated jobs submission on distributed resources according to customers’ requests and subsequent monitoring and recovery of failed submissions, debugging and record keeping. The ultimate goal is the most efficient utilization of all computing resources available to experiments, while providing a simple and transparent interface between users and the complexity of the grid. POMS runs behind a web service interface that provides both interactive pages to the users, and a REST interfaces to scripts that interact with it. This means that experiments can use POMS through their web browser to configure and run their production code, or they can use the poms_client and poms_jobsub_wrapper tools to submit jobs through a command line and have POMS tracking, debugging and monitoring them.","headline":"How To Use Poms","url":"https://fermitools.github.io/poms/docs//docs/experimenters_corner/how_to_use_poms/"}</script>
<!-- End Jekyll SEO tag -->
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script src="/assets/poms_docs.js"></script>
  <link rel="shortcut icon" href="#">
  <link rel="stylesheet" href="/assets/main.css">
  <link rel="stylesheet" href="/assets/styles.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css"><link type="application/atom+xml" rel="alternate" href="https://fermitools.github.io/poms/docs//feed.xml" title="POMS Guide" /></head>
<header><nav id="toc">
    <center>
        <img class="site-logo" src="https://fermitools.github.io/poms/docs//docs/images/poms.jpg"/>
    </center>
    <div class="navigation-area">
        <h3>Navigation</h3>
        <div class="search-container">
            <input type="text" id="search" placeholder="Search...">
            <span class="search-icon"><i class="fas fa-search"></i></span>
        </div>        
    </div>
    <div class="container">
        <ul id="main-menu">
            
                
                    <li class="menu-item " >
                        <a class="menu-link " href="https://fermitools.github.io/poms/docs/backwards_compatibility/index.html">Backwards Compatibility</a>
                        
                    </li>
                
            
                
                    <li class="menu-item " >
                        <a class="menu-link " href="https://fermitools.github.io/poms/docs/campaign_editor/index.html">Campaign Editor</a>
                        
                    </li>
                
            
                
                    <li class="menu-item " >
                        <a class="menu-link " href="https://fermitools.github.io/poms/docs/client_documentation/index.html">Client Documentation</a>
                        
                    </li>
                
            
                
                    <li class="menu-item has-submenu" >
                        <a class="menu-link open" href="https://fermitools.github.io/poms/docs/experimenters_corner/index.html">Experimenters Corner</a>
                        
                            <ul>
                                
                                    <li class="menu-item ">
                                        <a class="menu-link " href="https://fermitools.github.io/poms/docs/experimenters_corner/calendar_help/index.html">Calendar Help</a>
                                        
                                    </li>
                                
                                    <li class="menu-item ">
                                        <a class="menu-link " href="https://fermitools.github.io/poms/docs/experimenters_corner/campaign_deps_help/index.html">Campaign Deps Help</a>
                                        
                                    </li>
                                
                                    <li class="menu-item ">
                                        <a class="menu-link " href="https://fermitools.github.io/poms/docs/experimenters_corner/campaign_edit_help/index.html">Campaign Edit Help</a>
                                        
                                    </li>
                                
                                    <li class="menu-item ">
                                        <a class="menu-link " href="https://fermitools.github.io/poms/docs/experimenters_corner/campaign_info_help/index.html">Campaign Info Help</a>
                                        
                                    </li>
                                
                                    <li class="menu-item ">
                                        <a class="menu-link " href="https://fermitools.github.io/poms/docs/experimenters_corner/campaign_layer_info/index.html">Campaign Layer Info</a>
                                        
                                    </li>
                                
                                    <li class="menu-item ">
                                        <a class="menu-link " href="https://fermitools.github.io/poms/docs/experimenters_corner/campaign_sheet_help/index.html">Campaign Sheet Help</a>
                                        
                                    </li>
                                
                                    <li class="menu-item ">
                                        <a class="menu-link " href="https://fermitools.github.io/poms/docs/experimenters_corner/campaign_task_files_help/index.html">Campaign Task Files Help</a>
                                        
                                    </li>
                                
                                    <li class="menu-item ">
                                        <a class="menu-link " href="https://fermitools.github.io/poms/docs/experimenters_corner/campaign_time_bars_help/index.html">Campaign Time Bars Help</a>
                                        
                                    </li>
                                
                                    <li class="menu-item ">
                                        <a class="menu-link " href="https://fermitools.github.io/poms/docs/experimenters_corner/dashboard_help/index.html">Dashboard Help</a>
                                        
                                    </li>
                                
                                    <li class="menu-item has-submenu">
                                        <a class="menu-link open" href="https://fermitools.github.io/poms/docs/experimenters_corner/data_dispatcher/index.html">Data Dispatcher</a>
                                        
                                            <ul>
                                                
                                                    <li class="menu-item"><a class="menu-link" href="https://fermitools.github.io/poms/docs/experimenters_corner/data_dispatcher/environment_setup/index.html">Environment Setup</a></li>
                                                
                                                    <li class="menu-item"><a class="menu-link" href="https://fermitools.github.io/poms/docs/experimenters_corner/data_dispatcher/poms_campaign_setup/index.html">POMS Campaign_setup</a></li>
                                                
                                                    <li class="menu-item"><a class="menu-link" href="https://fermitools.github.io/poms/docs/experimenters_corner/data_dispatcher/split_types_and_data_dispatcher_fields/index.html">Split Types and Data Dispatcher Fields</a></li>
                                                
                                                    <li class="menu-item"><a class="menu-link" href="https://fermitools.github.io/poms/docs/experimenters_corner/data_dispatcher/tracking_submissions/index.html">Tracking Submissions</a></li>
                                                
                                            </ul>
                                        
                                    </li>
                                
                                    <li class="menu-item ">
                                        <a class="menu-link " href="https://fermitools.github.io/poms/docs/experimenters_corner/dataset_split_types/index.html">Dataset Split Types</a>
                                        
                                    </li>
                                
                                    <li class="menu-item ">
                                        <a class="menu-link " href="https://fermitools.github.io/poms/docs/experimenters_corner/edit_users_help/index.html">Edit Users Help</a>
                                        
                                    </li>
                                
                                    <li class="menu-item ">
                                        <a class="menu-link " href="https://fermitools.github.io/poms/docs/experimenters_corner/editing_job_types/index.html">Editing Job Types</a>
                                        
                                    </li>
                                
                                    <li class="menu-item ">
                                        <a class="menu-link " href="https://fermitools.github.io/poms/docs/experimenters_corner/experiment_edit_help/index.html">Experiment Edit Help</a>
                                        
                                    </li>
                                
                                    <li class="menu-item ">
                                        <a class="menu-link " href="https://fermitools.github.io/poms/docs/experimenters_corner/fife_newsletter_article/index.html">Fife Newsletter Article</a>
                                        
                                    </li>
                                
                                    <li class="menu-item ">
                                        <a class="menu-link " href="https://fermitools.github.io/poms/docs/experimenters_corner/file_info_by_submission_help/index.html">File Info By Submission Help</a>
                                        
                                    </li>
                                
                                    <li class="menu-item ">
                                        <a class="menu-link " href="https://fermitools.github.io/poms/docs/experimenters_corner/generic_edit_help/index.html">Generic Edit Help</a>
                                        
                                    </li>
                                
                                    <li class="menu-item ">
                                        <a class="menu-link " href="https://fermitools.github.io/poms/docs/experimenters_corner/getting_more_memory_in_recovery_jobs/index.html">Getting More Memory In Recovery Jobs</a>
                                        
                                    </li>
                                
                                    <li class="menu-item ">
                                        <a class="menu-link " href="https://fermitools.github.io/poms/docs/experimenters_corner/held_launches_help/index.html">Held Launches Help</a>
                                        
                                    </li>
                                
                                    <li class="menu-item ">
                                        <a class="menu-link " href="https://fermitools.github.io/poms/docs/experimenters_corner/how_to_make_snow_request_for_poms/index.html">How To Make Snow Request For Poms</a>
                                        
                                    </li>
                                
                                    <li class="menu-item ">
                                        <a class="menu-link " href="https://fermitools.github.io/poms/docs/experimenters_corner/how_to_use_poms/index.html">How To Use Poms</a>
                                        
                                    </li>
                                
                                    <li class="menu-item ">
                                        <a class="menu-link " href="https://fermitools.github.io/poms/docs/experimenters_corner/job_efficiency_histo_help/index.html">Job Efficiency Histo Help</a>
                                        
                                    </li>
                                
                                    <li class="menu-item ">
                                        <a class="menu-link " href="https://fermitools.github.io/poms/docs/experimenters_corner/job_file_contents_help/index.html">Job File Contents Help</a>
                                        
                                    </li>
                                
                                    <li class="menu-item ">
                                        <a class="menu-link " href="https://fermitools.github.io/poms/docs/experimenters_corner/job_table_help/index.html">Job Table Help</a>
                                        
                                    </li>
                                
                                    <li class="menu-item ">
                                        <a class="menu-link " href="https://fermitools.github.io/poms/docs/experimenters_corner/launch_campaign_help/index.html">Launch Campaign Help</a>
                                        
                                    </li>
                                
                                    <li class="menu-item ">
                                        <a class="menu-link " href="https://fermitools.github.io/poms/docs/experimenters_corner/launch_jobs_help/index.html">Launch Jobs Help</a>
                                        
                                    </li>
                                
                                    <li class="menu-item ">
                                        <a class="menu-link " href="https://fermitools.github.io/poms/docs/experimenters_corner/launch_template_edit_help/index.html">Launch Template Edit Help</a>
                                        
                                    </li>
                                
                                    <li class="menu-item ">
                                        <a class="menu-link " href="https://fermitools.github.io/poms/docs/experimenters_corner/list_generic_help/index.html">List Generic Help</a>
                                        
                                    </li>
                                
                                    <li class="menu-item ">
                                        <a class="menu-link " href="https://fermitools.github.io/poms/docs/experimenters_corner/membership_help/index.html">Membership Help</a>
                                        
                                    </li>
                                
                                    <li class="menu-item ">
                                        <a class="menu-link " href="https://fermitools.github.io/poms/docs/experimenters_corner/oidc_auth_help/index.html">Oidc Auth Help</a>
                                        
                                    </li>
                                
                                    <li class="menu-item ">
                                        <a class="menu-link " href="https://fermitools.github.io/poms/docs/experimenters_corner/protoDUNE/index.html">Protodune</a>
                                        
                                    </li>
                                
                                    <li class="menu-item ">
                                        <a class="menu-link " href="https://fermitools.github.io/poms/docs/experimenters_corner/raw_tables_help/index.html">Raw Tables Help</a>
                                        
                                    </li>
                                
                                    <li class="menu-item ">
                                        <a class="menu-link " href="https://fermitools.github.io/poms/docs/experimenters_corner/sample_workflow/index.html">Sample Workflow</a>
                                        
                                    </li>
                                
                                    <li class="menu-item ">
                                        <a class="menu-link " href="https://fermitools.github.io/poms/docs/experimenters_corner/schedule_launch_help/index.html">Schedule Launch Help</a>
                                        
                                    </li>
                                
                                    <li class="menu-item ">
                                        <a class="menu-link " href="https://fermitools.github.io/poms/docs/experimenters_corner/search_tags_help/index.html">Search Tags Help</a>
                                        
                                    </li>
                                
                                    <li class="menu-item ">
                                        <a class="menu-link " href="https://fermitools.github.io/poms/docs/experimenters_corner/show_campaigns_help/index.html">Show Campaigns Help</a>
                                        
                                    </li>
                                
                                    <li class="menu-item ">
                                        <a class="menu-link " href="https://fermitools.github.io/poms/docs/experimenters_corner/submission_details_help/index.html">Submission Details Help</a>
                                        
                                    </li>
                                
                                    <li class="menu-item ">
                                        <a class="menu-link " href="https://fermitools.github.io/poms/docs/experimenters_corner/triage_job_help/index.html">Triage Job Help</a>
                                        
                                    </li>
                                
                                    <li class="menu-item ">
                                        <a class="menu-link " href="https://fermitools.github.io/poms/docs/experimenters_corner/tutorial_outline/index.html">Tutorial Outline</a>
                                        
                                    </li>
                                
                            </ul>
                        
                    </li>
                
            
                
                    <li class="menu-item " >
                        <a class="menu-link " href="https://fermitools.github.io/poms/docs/frequently_asked_questions/index.html">Frequently Asked Questions</a>
                        
                    </li>
                
            
                
                    <li class="menu-item " >
                        <a class="menu-link " href="https://fermitools.github.io/poms/docs/glossary/index.html">Glossary</a>
                        
                    </li>
                
            
                
                    <li class="menu-item " >
                        <a class="menu-link " href="https://fermitools.github.io/poms/docs/gui_workflow_editor_user_guide/index.html">Gui Workflow Editor User Guide</a>
                        
                    </li>
                
            
                
            
                
                    <li class="menu-item " >
                        <a class="menu-link " href="https://fermitools.github.io/poms/docs/launch_config_file_templates/index.html">Launch Config File Templates</a>
                        
                    </li>
                
            
                
                    <li class="menu-item " >
                        <a class="menu-link " href="https://fermitools.github.io/poms/docs/release_notes/index.html">Release Notes</a>
                        
                    </li>
                
            
                
                    <li class="menu-item " >
                        <a class="menu-link " href="https://fermitools.github.io/poms/docs/user_documentation/index.html">User Documentation</a>
                        
                    </li>
                
            
        </ul>
    </div>
</nav>


  </header>
  <body>
    <main class="page-content" aria-label="Content">
      <div class="wrapper">
        
<div class="breadcrumbs"></div>
        <article class="post">

  <header class="post-header">
    <h1 class="post-title">How To Use Poms</h1>
  </header>

  <div class="post-content">
    <ul id="markdown-toc">
  <li><a href="#how-to-access-to-the-poms-services" id="markdown-toc-how-to-access-to-the-poms-services">How to access to the POMS services</a>    <ul>
      <li><a href="#you-need-to-do-some-configuration-before-you-launch-jobs-this-a-three-steps-process-following-the-links-under-configure-work-in-the-left-menu-of-poms-webpage" id="markdown-toc-you-need-to-do-some-configuration-before-you-launch-jobs-this-a-three-steps-process-following-the-links-under-configure-work-in-the-left-menu-of-poms-webpage">You need to do some configuration before you launch jobs. This a three steps process, following the links under Configure work in the left menu of POMS webpage.</a>        <ul>
          <li><a href="#1-compose-launch-template" id="markdown-toc-1-compose-launch-template">1) Compose Launch template</a></li>
          <li><a href="#2-compose-job-type" id="markdown-toc-2-compose-job-type">2) Compose Job Type:</a></li>
          <li><a href="#3-compose-the-campaign-stage" id="markdown-toc-3-compose-the-campaign-stage">3) Compose the campaign stage:</a></li>
        </ul>
      </li>
      <li><a href="#launch-the-job-submission" id="markdown-toc-launch-the-job-submission">Launch the job submission</a>        <ul>
          <li><a href="#how-to-launch-the-jobs" id="markdown-toc-how-to-launch-the-jobs">How to launch the jobs:</a></li>
        </ul>
      </li>
      <li><a href="#files" id="markdown-toc-files">Files</a></li>
    </ul>
  </li>
</ul>
<p>In order to be able to use POMS you need to be affiliated with a Fermilab experiment and have a computer account at Fermilab.</p>

<h2 id="how-to-access-to-the-poms-services">How to access to the POMS services</h2>

<p>Access to the following URL https://pomsgpvm01.fnal.gov/poms/ and use your Fermilab services credential.</p>

<h3 id="you-need-to-do-some-configuration-before-you-launch-jobs-this-a-three-steps-process-following-the-links-under-configure-work-in-the-left-menu-of-poms-webpage">You need to do some configuration before you launch jobs. This a three steps process, following the links under Configure work in the left menu of POMS webpage.</h3>

<h4 id="1-compose-launch-template">1) Compose Launch template</h4>

<p>This template can be reused and re-edit later. You can re-use, clone, and modify for different campaigns. So you can use the same template for different processing campaigns. As a user, you choose your experiment and push the bottom “add” in order to create a new template. Those are also useful for other members of the experiment. You need to fill:</p>

<ul>
  <li>Name: Define the name of your template (MonteCarlo)</li>
  <li>Host: Define the interactive node or machine you are going to use to launch your jobs (novagpvm01)</li>
  <li>Account: Define the user account for the launch (eg. {USER}, novapro, minervapro, minervacal, uboonepro, etc )</li>
  <li>setup: You define the environment variable, setups, or scripts that you usually setup on your own machine (e.g. setup_nova, launch script)</li>
</ul>

<p>The <strong>Account</strong> in question will need the following .k5login entries:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>poms/cd/pomsgpvm01.fnal.gov@FNAL.GOV
</code></pre></div></div>

<h4 id="2-compose-job-type">2) Compose Job Type:</h4>

<p>After you fill the job type format, you can re-use, clone, and modify for different campaigns. Those are also useful for other members of the experiment.</p>

<ul>
  <li>Name: A name that describes the kind of campaign you are running (eg. Nova raw2root keepup FD, rock_neutrinoMC, minerva_cal)</li>
  <li>input files per job: The expected number of input files per job, fill the field as 0 if you are not sure do not leave it empty (eg. 1 if you just receive the .raw data as an input file)</li>
  <li>output files per job: The expected number of output files per job, fill the field as 0 if you are not sure do not leave it empty (eg. 3 if you expected to produce one .root .log .json file per every input file )</li>
  <li>output file patterns: The output pattern you are interested in your campaign (eg. %.root)</li>
  <li>Launch Script: In this field, you need to put the script that you run to submit jobs in your machine.</li>
  <li>Definition Parameters: The arguments your script (included in Launch script) use for the submission.</li>
  <li>Recovery Launches: This field defines your recovery launches in case needed. Your options are: added_files, consumed_status, pending files, proj_status</li>
</ul>

<h4 id="3-compose-the-campaign-stage">3) Compose the campaign stage:</h4>

<p>This stage define your specific campaign (related with a specific production task), in this step you use the launch template and the job type defined in the previous steps (or you can use an existing one)</p>

<ul>
  <li>Name of the campaign: A name that describes your campaign properly (eg. NOvA Raw2Root Keepup fardet S16-11-02)</li>
  <li>VO role: The role in the VO (eg. analysis, production)</li>
  <li>State (active or inactive)</li>
  <li>Software Version: In your experiments, you can have different versions of your code, this field help you to track the one that you use for that specific campaign.</li>
  <li>DataSet: The SAM definition (dataset) that you want to process, you can also define that in your script then you leave this field as none</li>
  <li>DataSet split type: POMS can split the dataset in order to do sub-dataset and make the tracking task easier. It is also useful to prevent problems handling huge datasets inside SAM projects.</li>
  <li>Completion type: Then the user have two options: located and complete.</li>
</ul>

<blockquote>
  <p><em>Located: This option suggest that your completed threshold (for launch dependence campaigns) depends on the number of job with all their files located. A located file reference a file which has children declare on SAM.</em>
<em>Complete: This option suggest that your completed threshold (for launch dependence campaigns) depends on the number of jobs that ended with error code 0 but it does not check if the output files are located. A located file reference a file which has the children declare on SAM.</em></p>
</blockquote>

<ul>
  <li>Completion pct: it is the percentage of completion of jobs that you define to determine that specific campaign is successful (complete).</li>
  <li>Parameters override: This field is useful if you want to change the ones that are in the template</li>
  <li>Depends on: If your campaign depends on other campaigns. (eg. calibration can depend on RawtoRoot)</li>
  <li>Launch template: This field you just choose a template that you have already create in advance (description above)</li>
  <li>Job type This field you just choose a job type that you have already create in advance (description above)</li>
</ul>

<p><strong>IMPORTANT</strong>: It is important to keep in mind that until now the user just configures the campaign to launch but the submission has not happend. In order to submit jobs follow the step below.</p>

<h3 id="launch-the-job-submission">Launch the job submission</h3>

<h4 id="how-to-launch-the-jobs">How to launch the jobs:</h4>

<ul>
  <li>After Compose the campaign stage, in order to launch jobs, the user should go the campaign stages under Campaign Data (left menu) and click.</li>
  <li>Then you will see all the active campaign for the experiment(s) you belong.</li>
  <li>Clicking on the campaign name move you to the campaign info page where the user can monitor the status of the jobs that belong to that specific campaign.</li>
  <li>Clicking the bottom Launch Campaign Jobs Now the user can submit jobs for the specific campaign configuration.</li>
</ul>

<p>Furthermore, the user can use the option Schedule Future Job Launches which provide a kind of “crontab” for schedule your submissions. The scheduled submissions are sent by POMS and there is not crontab in your interactive node (experiment machine).</p>

<h3 id="files">Files</h3>
<ul>
  <li><a href="/docs/files/POMS_ICARUS_SBND_2018_02_14.pdf" download="">POMS_ICARUS_SBND_2018_02_14.pdf</a></li>
</ul>

  </div>

</article>

        <button id="back-to-top-button"><i class="fas fa-arrow-up"></i></button>
      </div>
    </main>
  </body>
</html>